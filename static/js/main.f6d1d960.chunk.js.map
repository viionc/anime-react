{"version":3,"sources":["components/Header.js","components/SearchButton.js","genres.js","components/SearchInfoPanel.js","components/RequestTimerWarning.js","components/TopAnime.js","components/LeftPanel.js","components/AnimeCard.js","components/RightPanel.js","App.js","index.js"],"names":["Header","className","SearchButton","fetchData","onClick","genres","Action","Adventure","Cars","Comedy","Dementia","Demons","Mystery","Drama","Ecchi","Fantasy","Game","Historical","Horror","Kids","Magic","MartialArts","Mecha","Music","Parody","Samurai","Romance","School","SciFi","Shoujo","ShoujoAi","Shounen","ShounenAi","Space","Sports","SuperPower","Vampire","Yaoi","Yuri","Harem","SliceOfLife","Supernatural","Military","Police","Psychological","Thriller","Seinen","Josei","genreOptions","Object","keys","map","genre","value","toLowerCase","label","sortOptions","SearchInfoPanel","setSearchFilters","useState","nameFilter","setNameFilter","genresFilter","setGenresFilter","scoreFilter","setScoreFilter","sortFilter","setSortFilter","useEffect","filter","length","IDs","e","join","placeholder","onChange","target","event","Number","isMulti","name","labels","options","RequestTimerWarning","requestTimer","TopAnime","topAnime","anime","title","score","url","href","rel","mal_id","LeftPanel","AnimeCard","result","airing","episodes","image","images","jpg","image_url","desc","synopsis","style","background","RightPanel","searchResults","noResults","App","setSearchResults","setTopAnime","searchFilters","setRequestTimer","setNoResults","interval","setInterval","clearInterval","fetch","then","res","json","data","slice","catch","err","Error","console","log","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.f6d1d960.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nfunction Header() {\r\n    return (\r\n        <nav className=\"nav\">\r\n            Anime <span className=\"secondary\">Search</span>\r\n        </nav>\r\n    )\r\n}\r\n\r\nexport default Header\r\n","import React from \"react\";\r\n\r\nfunction SearchButton({fetchData}) {\r\n    return (\r\n        <button className=\"search-button\" onClick={fetchData}>\r\n            Search\r\n        </button>\r\n    );\r\n}\r\n\r\nexport default SearchButton;\r\n","const genres = {\r\n    Action: 1,\r\n    Adventure: 2,\r\n    Cars: 3,\r\n    Comedy: 4,\r\n    Dementia: 5,\r\n    Demons: 6,\r\n    Mystery: 7,\r\n    Drama: 8,\r\n    Ecchi: 9,\r\n    Fantasy: 10,\r\n    Game: 11,\r\n    Historical: 13,\r\n    Horror: 14,\r\n    Kids: 15,\r\n    Magic: 16,\r\n    MartialArts: 17,\r\n    Mecha: 18,\r\n    Music: 19,\r\n    Parody: 20,\r\n    Samurai: 21,\r\n    Romance: 22,\r\n    School: 23,\r\n    SciFi: 24,\r\n    Shoujo: 25,\r\n    ShoujoAi: 26,\r\n    Shounen: 27,\r\n    ShounenAi: 28,\r\n    Space: 29,\r\n    Sports: 30,\r\n    SuperPower: 31,\r\n    Vampire: 32,\r\n    Yaoi: 33,\r\n    Yuri: 34,\r\n    Harem: 35,\r\n    SliceOfLife: 36,\r\n    Supernatural: 37,\r\n    Military: 38,\r\n    Police: 39,\r\n    Psychological: 40,\r\n    Thriller: 41,\r\n    Seinen: 42,\r\n    Josei: 43,\r\n};\r\n\r\nexport default genres;\r\n","import React from \"react\";\r\nimport {useState, useEffect} from \"react\";\r\nimport Select from \"react-select\";\r\nimport genres from \"../genres\";\r\n\r\nconst genreOptions = Object.keys(genres).map(genre => {\r\n    return {value: genre.toLowerCase(), label: genre};\r\n});\r\nconst sortOptions = [\r\n    {\r\n        value: \"desc\",\r\n        label: \"descending\",\r\n    },\r\n    {\r\n        value: \"asc\",\r\n        label: \"ascending\",\r\n    },\r\n];\r\n\r\nfunction SearchInfoPanel({setSearchFilters}) {\r\n    const [nameFilter, setNameFilter] = useState(\"\");\r\n    const [genresFilter, setGenresFilter] = useState([]);\r\n    const [scoreFilter, setScoreFilter] = useState(\"\");\r\n    const [sortFilter, setSortFilter] = useState(\"desc\");\r\n\r\n    const handleGenresChange = event => {\r\n        const labels = event.map(e => e.label);\r\n        setGenresFilter(labels);\r\n    };\r\n\r\n    const handleScoreChange = event => {\r\n        if (Number(event.target.value)) setScoreFilter(event.target.value);\r\n        else setScoreFilter(\"\");\r\n    };\r\n    const handleSortChange = event => {\r\n        setSortFilter(event.value);\r\n    };\r\n\r\n    useEffect(() => {\r\n        let filter = \"anime?\";\r\n        if (nameFilter !== \"\") filter += `q=${nameFilter}`;\r\n        if (genresFilter.length) {\r\n            const IDs = genresFilter.map(e => genres[e]);\r\n            if (filter !== \"\") filter += \"&\";\r\n            filter += `genres=${IDs.join(\",\")}`;\r\n        }\r\n        if (scoreFilter !== \"\") {\r\n            if (filter !== \"\") filter += \"&\";\r\n            filter += `min_score=${scoreFilter}`;\r\n        }\r\n        if (sortFilter !== \"\") {\r\n            if (filter !== \"\") filter += \"&\";\r\n            filter += `&order_by=score&sort=${sortFilter}`;\r\n        }\r\n        setSearchFilters(filter);\r\n    }, [nameFilter, genresFilter, scoreFilter, sortFilter]);\r\n\r\n    return (\r\n        <>\r\n            <div className=\"search-form\">\r\n                <div className=\"input-wrapper\">\r\n                    <label className=\"label\">Name:</label>\r\n                    <input\r\n                        placeholder=\"Type name of a show...\"\r\n                        onChange={e => setNameFilter(e.target.value)}\r\n                        value={nameFilter}\r\n                    ></input>\r\n                </div>\r\n                <div className=\"input-wrapper\">\r\n                    <label className=\"label\">Score:</label>\r\n                    <input\r\n                        placeholder=\"Will find shows above selected score\"\r\n                        onChange={handleScoreChange}\r\n                        value={scoreFilter}\r\n                    ></input>\r\n                </div>\r\n                <div className=\"input-wrapper\">\r\n                    <label className=\"label\">Genres:</label>\r\n                    <Select\r\n                        isMulti\r\n                        name=\"genres\"\r\n                        onChange={handleGenresChange}\r\n                        options={genreOptions}\r\n                        className=\"select\"\r\n                    />\r\n                </div>\r\n                <div className=\"input-wrapper\">\r\n                    <label className=\"label\">Sorting:</label>\r\n                    <Select\r\n                        name=\"sorting\"\r\n                        onChange={handleSortChange}\r\n                        options={sortOptions}\r\n                        className=\"select\"\r\n                    />\r\n                </div>\r\n            </div>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default SearchInfoPanel;\r\n","import React from \"react\";\r\n\r\nfunction RequestTimerWarning({requestTimer}) {\r\n    return <div className=\"warning\">You can make another request in {requestTimer} seconds.</div>;\r\n}\r\n\r\nexport default RequestTimerWarning;\r\n","import React from \"react\";\r\n\r\nfunction TopAnime({topAnime}) {\r\n    return (\r\n        <div className=\"top-anime\">\r\n            <h3>Top Anime</h3>\r\n            {topAnime.map(anime => {\r\n                const {title, score, url} = anime;\r\n                return (\r\n                    <a target=\"_blank\" href={url} className=\"wrapper\" key={anime.mal_id} rel=\"noreferrer\">\r\n                        <span>{title}</span>\r\n                        <span>{score}</span>\r\n                    </a>\r\n                );\r\n            })}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default TopAnime;\r\n","import React from \"react\";\r\nimport SearchButton from \"./SearchButton.js\";\r\nimport SearchInfoPanel from \"./SearchInfoPanel.js\";\r\nimport RequestTimerWarning from \"./RequestTimerWarning.js\";\r\nimport TopAnime from \"./TopAnime.js\";\r\n\r\nfunction LeftPanel({fetchData, setSearchFilters, topAnime, requestTimer}) {\r\n    return (\r\n        <div className=\"left-panel\">\r\n            <SearchInfoPanel setSearchFilters={setSearchFilters}></SearchInfoPanel>\r\n            {requestTimer ? <RequestTimerWarning requestTimer={requestTimer}></RequestTimerWarning> : null}\r\n            <SearchButton fetchData={fetchData}></SearchButton>\r\n            <TopAnime topAnime={topAnime}></TopAnime>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default LeftPanel;\r\n","import React from \"react\";\r\n\r\nfunction AnimeCard({result}) {\r\n    const {url, airing, score, episodes} = result;\r\n    const image = result.images.jpg.image_url;\r\n    const name = result.title;\r\n    const desc = result.synopsis;\r\n\r\n    return (\r\n        <a target=\"_blank\" href={url} rel=\"noreferrer\">\r\n            <div className=\"card\" style={{background: `url(${image})`}} title={desc}>\r\n                <div className=\"title\">\r\n                    <span title={name}>{name}</span>\r\n                    <span\r\n                        className={airing ? \"airing\" : \"ended\"}\r\n                        title={airing ? \"Airing\" : \"Ended\"}\r\n                    >\r\n                        .\r\n                    </span>\r\n                </div>\r\n                <div className=\"info\">\r\n                    <span className=\"episodes\">Ep.: {episodes}</span>\r\n                    <span className=\"score\">S: {score}</span>\r\n                </div>\r\n            </div>\r\n        </a>\r\n    );\r\n}\r\n\r\nexport default AnimeCard;\r\n","import React from \"react\";\r\nimport AnimeCard from \"./AnimeCard\";\r\n\r\nfunction RightPanel({searchResults, noResults}) {\r\n    return !noResults ? (\r\n        <div className=\"card-container\">\r\n            {searchResults.map(result => {\r\n                return <AnimeCard result={result} key={result.mal_id}></AnimeCard>;\r\n            })}\r\n        </div>\r\n    ) : (\r\n        <h3>No results found.</h3>\r\n    );\r\n}\r\n\r\nexport default RightPanel;\r\n","import \"./App.css\";\r\nimport Header from \"./components/Header.js\";\r\nimport {useState, useEffect} from \"react\";\r\nimport LeftPanel from \"./components/LeftPanel\";\r\nimport RightPanel from \"./components/RightPanel\";\r\n\r\nfunction App() {\r\n    const [searchResults, setSearchResults] = useState([]);\r\n    const [topAnime, setTopAnime] = useState([]);\r\n    const [searchFilters, setSearchFilters] = useState(\"\");\r\n    const [requestTimer, setRequestTimer] = useState(0);\r\n    const [noResults, setNoResults] = useState(false);\r\n\r\n    const url = `https://api.jikan.moe/v4/`;\r\n\r\n    const fetchData = () => {\r\n        if (requestTimer > 0) return;\r\n        console.log(url + searchFilters);\r\n        fetch(url + searchFilters)\r\n            .then(res => {\r\n                return res.json();\r\n            })\r\n            .then(data => {\r\n                if (data.data) {\r\n                    setSearchResults(data.data);\r\n                    console.log(data.data);\r\n                    setNoResults(false);\r\n                    return;\r\n                }\r\n                setNoResults(true);\r\n            });\r\n        setRequestTimer(5);\r\n    };\r\n\r\n    useEffect(() => {\r\n        if (requestTimer > 0) {\r\n            const interval = setInterval(() => {\r\n                setRequestTimer(requestTimer => requestTimer - 1);\r\n            }, 1000);\r\n            return () => clearInterval(interval);\r\n        }\r\n    }, [requestTimer]);\r\n\r\n    useEffect(() => {\r\n        fetch(url + `top/anime`)\r\n            .then(res => res.json())\r\n            .then(data => {\r\n                setTopAnime(data.data.slice(0, 10));\r\n            })\r\n            .catch(err => {\r\n                throw new Error(err);\r\n            });\r\n    }, [url]);\r\n\r\n    return (\r\n        <div className=\"App\">\r\n            <Header></Header>\r\n            <LeftPanel\r\n                setSearchFilters={setSearchFilters}\r\n                fetchData={fetchData}\r\n                topAnime={topAnime}\r\n                requestTimer={requestTimer}\r\n            ></LeftPanel>\r\n            <RightPanel searchResults={searchResults} noResults={noResults}></RightPanel>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}