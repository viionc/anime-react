(this["webpackJsonpanime-search"]=this["webpackJsonpanime-search"]||[]).push([[0],{14:function(e,t,a){},15:function(e,t,a){},32:function(e,t,a){"use strict";a.r(t);var c=a(0),n=a.n(c),s=a(3),r=a.n(s),i=(a(14),a(2)),l=(a(15),a(1));var o=function(){return Object(l.jsxs)("nav",{className:"nav",children:["Anime ",Object(l.jsx)("span",{className:"secondary",children:"Search"})]})};var j=function(e){var t=e.fetchData;return Object(l.jsx)("button",{className:"search-button",onClick:t,children:"Search"})},u=a(7),b={Action:1,Adventure:2,Cars:3,Comedy:4,Dementia:5,Demons:6,Mystery:7,Drama:8,Ecchi:9,Fantasy:10,Game:11,Historical:13,Horror:14,Kids:15,Magic:16,MartialArts:17,Mecha:18,Music:19,Parody:20,Samurai:21,Romance:22,School:23,SciFi:24,Shoujo:25,ShoujoAi:26,Shounen:27,ShounenAi:28,Space:29,Sports:30,SuperPower:31,Vampire:32,Yaoi:33,Yuri:34,Harem:35,SliceOfLife:36,Supernatural:37,Military:38,Police:39,Psychological:40,Thriller:41,Seinen:42,Josei:43},h=Object.keys(b).map((function(e){return{value:e.toLowerCase(),label:e}})),d=[{value:"desc",label:"descending"},{value:"asc",label:"ascending"}];var m=function(e){var t=e.setSearchFilters,a=Object(c.useState)(""),n=Object(i.a)(a,2),s=n[0],r=n[1],o=Object(c.useState)([]),j=Object(i.a)(o,2),m=j[0],O=j[1],f=Object(c.useState)(""),p=Object(i.a)(f,2),v=p[0],x=p[1],S=Object(c.useState)("desc"),g=Object(i.a)(S,2),N=g[0],w=g[1];return Object(c.useEffect)((function(){var e="anime?";if(""!==s&&(e+="q=".concat(s)),m.length){var a=m.map((function(e){return b[e]}));""!==e&&(e+="&"),e+="genres=".concat(a.join(","))}""!==v&&(""!==e&&(e+="&"),e+="min_score=".concat(v)),""!==N&&(""!==e&&(e+="&"),e+="&order_by=score&sort=".concat(N)),t(e)}),[s,m,v,N]),Object(l.jsx)(l.Fragment,{children:Object(l.jsxs)("div",{className:"search-form",children:[Object(l.jsxs)("div",{className:"input-wrapper",children:[Object(l.jsx)("label",{className:"label",children:"Name:"}),Object(l.jsx)("input",{placeholder:"Type name of a show...",onChange:function(e){return r(e.target.value)},value:s})]}),Object(l.jsxs)("div",{className:"input-wrapper",children:[Object(l.jsx)("label",{className:"label",children:"Score:"}),Object(l.jsx)("input",{placeholder:"Will find shows above selected score",onChange:function(e){Number(e.target.value)?x(e.target.value):x("")},value:v})]}),Object(l.jsxs)("div",{className:"input-wrapper",children:[Object(l.jsx)("label",{className:"label",children:"Genres:"}),Object(l.jsx)(u.a,{isMulti:!0,name:"genres",onChange:function(e){var t=e.map((function(e){return e.label}));O(t)},options:h,className:"select"})]}),Object(l.jsxs)("div",{className:"input-wrapper",children:[Object(l.jsx)("label",{className:"label",children:"Sorting:"}),Object(l.jsx)(u.a,{name:"sorting",onChange:function(e){w(e.value)},options:d,className:"select"})]})]})})};var O=function(e){var t=e.requestTimer;return Object(l.jsxs)("div",{className:"warning",children:["You can make another request in ",t," seconds."]})};var f=function(e){var t=e.topAnime;return Object(l.jsxs)("div",{className:"top-anime",children:[Object(l.jsx)("h3",{children:"Top Anime"}),t.map((function(e){var t=e.title,a=e.score,c=e.url;return Object(l.jsxs)("a",{target:"_blank",href:c,className:"wrapper",rel:"noreferrer",children:[Object(l.jsx)("span",{children:t}),Object(l.jsx)("span",{children:a})]},e.mal_id)}))]})};var p=function(e){var t=e.fetchData,a=e.setSearchFilters,c=e.topAnime,n=e.requestTimer;return Object(l.jsxs)("div",{className:"left-panel",children:[Object(l.jsx)(m,{setSearchFilters:a}),n?Object(l.jsx)(O,{requestTimer:n}):null,Object(l.jsx)(j,{fetchData:t}),Object(l.jsx)(f,{topAnime:c})]})};var v=function(e){var t=e.result,a=t.url,c=t.airing,n=t.score,s=t.episodes,r=t.images.jpg.image_url,i=t.title,o=t.synopsis;return Object(l.jsx)("a",{target:"_blank",href:a,rel:"noreferrer",children:Object(l.jsxs)("div",{className:"card",style:{background:"url(".concat(r,")")},title:o,children:[Object(l.jsxs)("div",{className:"title",children:[Object(l.jsx)("span",{title:i,children:i}),Object(l.jsx)("span",{className:c?"airing":"ended",title:c?"Airing":"Ended",children:"."})]}),Object(l.jsxs)("div",{className:"info",children:[Object(l.jsxs)("span",{className:"episodes",children:["Ep.: ",s]}),Object(l.jsxs)("span",{className:"score",children:["S: ",n]})]})]})})};var x=function(e){var t=e.searchResults;return e.noResults?Object(l.jsx)("h3",{children:"No results found."}):Object(l.jsx)("div",{className:"card-container",children:t.map((function(e){return Object(l.jsx)(v,{result:e},e.mal_id)}))})};var S=function(){var e=Object(c.useState)([]),t=Object(i.a)(e,2),a=t[0],n=t[1],s=Object(c.useState)([]),r=Object(i.a)(s,2),j=r[0],u=r[1],b=Object(c.useState)(""),h=Object(i.a)(b,2),d=h[0],m=h[1],O=Object(c.useState)(0),f=Object(i.a)(O,2),v=f[0],S=f[1],g=Object(c.useState)(!1),N=Object(i.a)(g,2),w=N[0],y=N[1],A="https://api.jikan.moe/v4/";return Object(c.useEffect)((function(){if(v>0){var e=setInterval((function(){S((function(e){return e-1}))}),1e3);return function(){return clearInterval(e)}}}),[v]),Object(c.useEffect)((function(){fetch(A+"top/anime").then((function(e){return e.json()})).then((function(e){u(e.data.slice(0,10))})).catch((function(e){throw new Error(e)}))}),[A]),Object(l.jsxs)("div",{className:"App",children:[Object(l.jsx)(o,{}),Object(l.jsx)(p,{setSearchFilters:m,fetchData:function(){v>0||(console.log(A+d),fetch(A+d).then((function(e){return e.json()})).then((function(e){if(e.data)return n(e.data),console.log(e.data),void y(!1);y(!0)})),S(5))},topAnime:j,requestTimer:v}),Object(l.jsx)(x,{searchResults:a,noResults:w})]})};r.a.render(Object(l.jsx)(n.a.StrictMode,{children:Object(l.jsx)(S,{})}),document.getElementById("root"))}},[[32,1,2]]]);
//# sourceMappingURL=main.f6d1d960.chunk.js.map