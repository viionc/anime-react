(this["webpackJsonpanime-search"]=this["webpackJsonpanime-search"]||[]).push([[0],{38:function(e,a,r){},39:function(e,a,r){},53:function(e,a,r){"use strict";r.r(a);var c=r(0),s=r.n(c),t=r(12),n=r.n(t),i=(r(38),r(24)),l=(r(39),r(1));var u=function(){return Object(l.jsxs)("nav",{className:"nav",children:["Anime ",Object(l.jsx)("span",{className:"secondary",children:"Search"})]})};var o=function(e){var a=e.fetchData;return Object(l.jsx)("button",{className:"search-button",onClick:a,children:"Search"})};var h=function(e){var a=e.text,r=e.searchType,c=e.setSearchType;return Object(l.jsx)("button",{className:"change-button ".concat(r===a?"active":""),onClick:function(){return c(a)},children:a})};var j=function(e){var a=e.setSearchType,r=e.searchType;return Object(l.jsxs)("div",{className:"search-panel",children:[Object(l.jsx)("div",{className:"label",children:"Search By: "}),["Name","Year","Genre","Score"].map((function(e,c){return Object(l.jsx)(h,{text:e,setSearchType:a,searchType:r},"button-".concat(c))}))]})},b=r(8),p=r(6);var d=function(e){var a=e.setSearchQuery,r=e.searchQuery,c=e.searchType;return Object(l.jsx)("div",{className:"search-form",children:Object(l.jsxs)("div",{className:"input-wrapper",children:[Object(l.jsx)("label",{className:"label",children:"Name:"}),Object(l.jsx)("input",{placeholder:"Type name of a show...",onChange:function(e){var r=e.target.value;a((function(e){return Object(p.a)(Object(p.a)({},e),{},Object(b.a)({},c,r))}))},value:r[c]||""})]})})},m=r(23);var O=function(e){var a=e.setSearchQuery,r=e.searchQuery,c=e.searchType;return Object(l.jsxs)("div",{className:"search-form",children:[Object(l.jsxs)("div",{className:"input-wrapper",children:[Object(l.jsx)("label",{className:"label",children:"Year:"}),Object(l.jsx)("input",{placeholder:"Type name of a show...",onChange:function(e){var s=r[c];s.year=e.target.value,Number(s.year)&&a((function(e){return Object(p.a)(Object(p.a)({},e),{},Object(b.a)({},c,s))}))},value:r[c].year})]}),Object(l.jsxs)("div",{className:"input-wrapper",children:[Object(l.jsx)("label",{className:"label",children:"Season:"}),Object(l.jsx)(m.a,{defaultValue:r[c].season,onChange:function(e){var s=r[c];s.season=e.value,a((function(e){return Object(p.a)(Object(p.a)({},e),{},Object(b.a)({},c,s))}))},options:[{value:"spring",label:"Spring"},{value:"summer",label:"Summer"},{value:"fall",label:"Fall"},{value:"winter",label:"Winter"}],className:"select"})]})]})},v=(r(54),{Action:1,Adventure:2,Cars:3,Comedy:4,Dementia:5,Demons:6,Mystery:7,Drama:8,Ecchi:9,Fantasy:10,Game:11,Historical:13,Horror:14,Kids:15,Magic:16,MartialArts:17,Mecha:18,Music:19,Parody:20,Samurai:21,Romance:22,School:23,SciFi:24,Shoujo:25,ShoujoAi:26,Shounen:27,ShounenAi:28,Space:29,Sports:30,SuperPower:31,Vampire:32,Yaoi:33,Yuri:34,Harem:35,SliceOfLife:36,Supernatural:37,Military:38,Police:39,Psychological:40,Thriller:41,Seinen:42,Josei:43}),y=Object.keys(v).map((function(e){return{value:e.toLowerCase(),label:e}}));var f=function(e){e.searchQuery;var a=e.setSearchQuery,r=e.searchType;return Object(l.jsx)("div",{children:Object(l.jsxs)("div",{className:"input-wrapper",children:[Object(l.jsx)("label",{className:"label",children:"Season:"}),Object(l.jsx)(m.a,{isMulti:!0,name:"genres",onChange:function(e){var c=e.map((function(e){return e.label}));a((function(e){return Object(p.a)(Object(p.a)({},e),{},Object(b.a)({},r,c))}))},options:y,className:"select"})]})})};var x=function(e){var a=e.setSearchQuery,r=e.searchQuery,c=e.searchType;return Object(l.jsx)("div",{className:"search-form",children:Object(l.jsxs)("div",{className:"input-wrapper",children:[Object(l.jsx)("label",{className:"label",children:"Score:"}),Object(l.jsx)("input",{placeholder:"Will find shows above selected score",onChange:function(e){var r=e.target.value;a((function(e){return Object(p.a)(Object(p.a)({},e),{},Object(b.a)({},c,r))}))},value:r[c]||""})]})})};var S=function(e){var a=e.searchType,r=e.searchQuery,c=e.setSearchQuery;return Object(l.jsxs)(l.Fragment,{children:["Name"===a?Object(l.jsx)(d,{searchQuery:r,setSearchQuery:c,searchType:a}):null,"Year"===a?Object(l.jsx)(O,{searchQuery:r,setSearchQuery:c,searchType:a}):null,"Genre"===a?Object(l.jsx)(f,{searchQuery:r,setSearchQuery:c,searchType:a}):null,"Score"===a?Object(l.jsx)(x,{searchQuery:r,setSearchQuery:c,searchType:a}):null]})};var N=function(e){var a=e.searchType,r=e.setSearchType,c=e.searchQuery,s=e.setSearchQuery,t=e.fetchData;return Object(l.jsxs)("div",{className:"left-panel",children:[Object(l.jsx)(j,{searchType:a,setSearchType:r}),Object(l.jsx)(S,{searchType:a,searchQuery:c,setSearchQuery:s}),Object(l.jsx)(o,{fetchData:t})]})};var T=function(e){var a=e.result,r=(a.mal_id,a.url,a.image_url),c=a.title,s=a.airing,t=a.score,n=(a.synopsis,a.episodes);return Object(l.jsxs)("div",{className:"card",style:{background:"url(".concat(r,")")},children:[Object(l.jsxs)("div",{className:"title",children:[Object(l.jsx)("span",{children:c}),Object(l.jsx)("span",{className:s?"airing":"ended",title:s?"Airing":"Ended",children:"."})]}),Object(l.jsxs)("div",{className:"info",children:[Object(l.jsx)("span",{children:n}),Object(l.jsx)("span",{children:t})]})]})};var g=function(e){var a=e.searchResults;return Object(l.jsx)("div",{className:"card-container",children:a.map((function(e){return Object(l.jsx)(T,{result:e},e.mal_id)}))})};var Q=function(){var e=Object(c.useState)("Name"),a=Object(i.a)(e,2),r=a[0],s=a[1],t=Object(c.useState)([]),n=Object(i.a)(t,2),o=n[0],h=n[1],j=Object(c.useState)({Name:"",Year:{year:1990,season:"Spring"},Genre:[],Score:0}),b=Object(i.a)(j,2),p=b[0],d=b[1];return Object(l.jsxs)("div",{className:"App",children:[Object(l.jsx)(u,{}),Object(l.jsx)(N,{searchType:r,setSearchType:s,searchQuery:p,setSearchQuery:d,fetchData:function(){var e="";switch(r){case"Name":e="search/anime?q=".concat(p[r]);break;case"Year":e="season/".concat(p[r].year,"/").concat(p[r].season);break;case"Genre":var a=p[r].map((function(e){return v[e]}));e="search/anime?genre=".concat(a.join(","));break;case"Score":e="search/anime?score=".concat(p[r],"&order_by=score&sort=descending")}fetch("https://api.jikan.moe/v3/"+e).then((function(e){return e.json()})).then((function(e){h("Year"==r?e.anime:e.results)})).catch((function(e){throw new Error(e)}))}}),Object(l.jsx)(g,{searchResults:o})]})};n.a.render(Object(l.jsx)(s.a.StrictMode,{children:Object(l.jsx)(Q,{})}),document.getElementById("root"))}},[[53,1,2]]]);
//# sourceMappingURL=main.4f15bd52.chunk.js.map