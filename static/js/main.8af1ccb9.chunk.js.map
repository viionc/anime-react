{"version":3,"sources":["components/Header.js","components/SearchButton.js","genres.js","components/SearchInfoPanel.js","components/RequestTimerWarning.js","components/TopAnime.js","components/LeftPanel.js","components/AnimeCard.js","components/RightPanel.js","App.js","index.js"],"names":["Header","className","SearchButton","fetchData","onClick","genres","Action","Adventure","Cars","Comedy","Dementia","Demons","Mystery","Drama","Ecchi","Fantasy","Game","Historical","Horror","Kids","Magic","MartialArts","Mecha","Music","Parody","Samurai","Romance","School","SciFi","Shoujo","ShoujoAi","Shounen","ShounenAi","Space","Sports","SuperPower","Vampire","Yaoi","Yuri","Harem","SliceOfLife","Supernatural","Military","Police","Psychological","Thriller","Seinen","Josei","genreOptions","Object","keys","map","genre","value","toLowerCase","label","SearchInfoPanel","setSearchFilters","useState","nameFilter","setNameFilter","genresFilter","setGenresFilter","scoreFilter","setScoreFilter","useEffect","filter","length","IDs","e","join","placeholder","onChange","target","event","Number","isMulti","name","labels","console","log","options","RequestTimerWarning","requestTimer","TopAnime","topAnime","anime","title","score","url","href","rel","mal_id","LeftPanel","AnimeCard","result","airing","episodes","image","image_url","desc","synopsis","style","background","RightPanel","searchResults","App","setSearchResults","setTopAnime","searchFilters","setRequestTimer","interval","setInterval","clearInterval","fetch","then","res","json","data","results","catch","err","Error","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.8af1ccb9.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nfunction Header() {\r\n    return (\r\n        <nav className=\"nav\">\r\n            Anime <span className=\"secondary\">Search</span>\r\n        </nav>\r\n    )\r\n}\r\n\r\nexport default Header\r\n","import React from \"react\";\r\n\r\nfunction SearchButton({fetchData}) {\r\n    return (\r\n        <button className=\"search-button\" onClick={fetchData}>\r\n            Search\r\n        </button>\r\n    );\r\n}\r\n\r\nexport default SearchButton;\r\n","const genres = {\r\n    Action: 1,\r\n    Adventure: 2,\r\n    Cars: 3,\r\n    Comedy: 4,\r\n    Dementia: 5,\r\n    Demons: 6,\r\n    Mystery: 7,\r\n    Drama: 8,\r\n    Ecchi: 9,\r\n    Fantasy: 10,\r\n    Game: 11,\r\n    Historical: 13,\r\n    Horror: 14,\r\n    Kids: 15,\r\n    Magic: 16,\r\n    MartialArts: 17,\r\n    Mecha: 18,\r\n    Music: 19,\r\n    Parody: 20,\r\n    Samurai: 21,\r\n    Romance: 22,\r\n    School: 23,\r\n    SciFi: 24,\r\n    Shoujo: 25,\r\n    ShoujoAi: 26,\r\n    Shounen: 27,\r\n    ShounenAi: 28,\r\n    Space: 29,\r\n    Sports: 30,\r\n    SuperPower: 31,\r\n    Vampire: 32,\r\n    Yaoi: 33,\r\n    Yuri: 34,\r\n    Harem: 35,\r\n    SliceOfLife: 36,\r\n    Supernatural: 37,\r\n    Military: 38,\r\n    Police: 39,\r\n    Psychological: 40,\r\n    Thriller: 41,\r\n    Seinen: 42,\r\n    Josei: 43,\r\n};\r\n\r\nexport default genres;\r\n","import React from \"react\";\r\nimport {useState, useEffect} from \"react\";\r\nimport Select from \"react-select\";\r\nimport genres from \"../genres\";\r\n\r\nconst genreOptions = Object.keys(genres).map(genre => {\r\n    return {value: genre.toLowerCase(), label: genre};\r\n});\r\n\r\nfunction SearchInfoPanel({setSearchFilters}) {\r\n    const [nameFilter, setNameFilter] = useState(\"\");\r\n    const [genresFilter, setGenresFilter] = useState([]);\r\n    const [scoreFilter, setScoreFilter] = useState(\"\");\r\n\r\n    const handleGenresChange = event => {\r\n        const labels = event.map(e => e.label);\r\n        console.log(labels);\r\n        setGenresFilter(labels);\r\n    };\r\n\r\n    const handleScoreChange = event => {\r\n        if (!Number(event.target.value)) return;\r\n\r\n        setScoreFilter(event.target.value);\r\n    };\r\n\r\n    useEffect(() => {\r\n        let filter = \"\";\r\n        if (nameFilter !== \"\") filter += `q=${nameFilter}`;\r\n        if (genresFilter.length) {\r\n            const IDs = genresFilter.map(e => genres[e]);\r\n            if (filter !== \"\") filter += \"&\";\r\n            filter += `genre=${IDs.join(\",\")}`;\r\n        }\r\n        if (scoreFilter !== \"\") {\r\n            if (filter !== \"\") filter += \"&\";\r\n            filter += `score=${scoreFilter}&order_by=score&sort=descending`;\r\n        }\r\n        setSearchFilters(filter);\r\n    }, [nameFilter, genresFilter, scoreFilter]);\r\n\r\n    return (\r\n        <>\r\n            <div className=\"search-form\">\r\n                <div className=\"input-wrapper\">\r\n                    <label className=\"label\">Name:</label>\r\n                    <input placeholder=\"Type name of a show...\" onChange={e => setNameFilter(e.target.value)} value={nameFilter}></input>\r\n                </div>\r\n                <div className=\"input-wrapper\">\r\n                    <label className=\"label\">Score:</label>\r\n                    <input placeholder=\"Will find shows above selected score\" onChange={handleScoreChange} value={scoreFilter}></input>\r\n                </div>\r\n                <div className=\"input-wrapper\">\r\n                    <label className=\"label\">Genres:</label>\r\n                    <Select isMulti name=\"genres\" onChange={handleGenresChange} options={genreOptions} className=\"select\" />\r\n                </div>\r\n            </div>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default SearchInfoPanel;\r\n","import React from \"react\";\r\n\r\nfunction RequestTimerWarning({requestTimer}) {\r\n    return <div className=\"warning\">You can make another request in {requestTimer} seconds.</div>;\r\n}\r\n\r\nexport default RequestTimerWarning;\r\n","import React from \"react\";\r\n\r\nfunction TopAnime({topAnime}) {\r\n    return (\r\n        <div className=\"top-anime\">\r\n            <h3>Top Anime</h3>\r\n            {topAnime.map(anime => {\r\n                const {title, score, url} = anime;\r\n                return (\r\n                    <a target=\"_blank\" href={url} className=\"wrapper\" key={anime.mal_id} rel=\"noreferrer\">\r\n                        <span>{title}</span>\r\n                        <span>{score}</span>\r\n                    </a>\r\n                );\r\n            })}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default TopAnime;\r\n","import React from \"react\";\r\nimport SearchButton from \"./SearchButton.js\";\r\nimport SearchInfoPanel from \"./SearchInfoPanel.js\";\r\nimport RequestTimerWarning from \"./RequestTimerWarning.js\";\r\nimport TopAnime from \"./TopAnime.js\";\r\n\r\nfunction LeftPanel({fetchData, setSearchFilters, topAnime, requestTimer}) {\r\n    return (\r\n        <div className=\"left-panel\">\r\n            <SearchInfoPanel setSearchFilters={setSearchFilters}></SearchInfoPanel>\r\n            {requestTimer ? <RequestTimerWarning requestTimer={requestTimer}></RequestTimerWarning> : null}\r\n            <SearchButton fetchData={fetchData}></SearchButton>\r\n            <TopAnime topAnime={topAnime}></TopAnime>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default LeftPanel;\r\n","import React from \"react\";\r\n\r\nfunction AnimeCard({result}) {\r\n    const {url, airing, score, episodes} = result;\r\n    const image = result.image_url;\r\n    const name = result.title;\r\n    const desc = result.synopsis;\r\n\r\n    return (\r\n        <a target=\"_blank\" href={url} rel=\"noreferrer\">\r\n            <div className=\"card\" style={{background: `url(${image})`}} title={desc}>\r\n                <div className=\"title\">\r\n                    <span title={name}>{name}</span>\r\n                    <span className={airing ? \"airing\" : \"ended\"} title={airing ? \"Airing\" : \"Ended\"}>\r\n                        .\r\n                    </span>\r\n                </div>\r\n                <div className=\"info\">\r\n                    <span className=\"episodes\">Ep.: {episodes}</span>\r\n                    <span className=\"score\">S: {score}</span>\r\n                </div>\r\n            </div>\r\n        </a>\r\n    );\r\n}\r\n\r\nexport default AnimeCard;\r\n","import React from \"react\";\r\nimport AnimeCard from \"./AnimeCard\";\r\n\r\nfunction RightPanel({searchResults}) {\r\n    return (\r\n        <div className=\"card-container\">\r\n            {searchResults.map(result => {\r\n                return <AnimeCard result={result} key={result.mal_id}></AnimeCard>;\r\n            })}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default RightPanel;\r\n","import \"./App.css\";\nimport Header from \"./components/Header.js\";\nimport {useState, useEffect} from \"react\";\nimport LeftPanel from \"./components/LeftPanel\";\nimport RightPanel from \"./components/RightPanel\";\n\nfunction App() {\n    const [searchResults, setSearchResults] = useState([]);\n    const [topAnime, setTopAnime] = useState([]);\n    const [searchFilters, setSearchFilters] = useState(\"\");\n    const [requestTimer, setRequestTimer] = useState(0);\n\n    const url = `https://api.jikan.moe/v3/search/anime?`;\n\n    const fetchData = () => {\n        if (requestTimer > 0) return;\n        fetch(url + searchFilters)\n            .then(res => res.json())\n            .then(data => {\n                setSearchResults(data.results);\n            })\n            .catch(err => {\n                throw new Error(err);\n            });\n        setRequestTimer(5);\n    };\n\n    useEffect(() => {\n        if (requestTimer > 0) {\n            console.log(\"test\");\n            const interval = setInterval(() => {\n                setRequestTimer(requestTimer => requestTimer - 1);\n            }, 1000);\n            return () => clearInterval(interval);\n        }\n    }, [requestTimer]);\n\n    useEffect(() => {\n        fetch(url + `score=9&order_by=score&sort=descending&limit=5`)\n            .then(res => res.json())\n            .then(data => setTopAnime(data.results))\n            .catch(err => {\n                throw new Error(err);\n            });\n    }, [url]);\n\n    return (\n        <div className=\"App\">\n            <Header></Header>\n            <LeftPanel setSearchFilters={setSearchFilters} fetchData={fetchData} topAnime={topAnime} requestTimer={requestTimer}></LeftPanel>\n            <RightPanel searchResults={searchResults}></RightPanel>\n        </div>\n    );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}